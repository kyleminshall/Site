<html lang="en" class="no-js">
	<head>
        {% block stylesheets %}
            {% stylesheets  'bundles/personal/css/foundation.min.css'
                            'bundles/personal/css/foundation-icons/foundation-icons.css'
                            'bundles/personal/css/admin.css' filter='cssrewrite' %}
                <link rel="stylesheet" href="{{ asset_url }}" />
            {% endstylesheets %}
        {% endblock %}
        <title>{% block title %}MasteringC++{% endblock %}</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        {% javascripts 'bundles/personal/js/vendor/modernizr.js' %}
            <script src="{{ asset_url }}"></script>
        {% endjavascripts %}
    <body style="font-family:Helvetica">
        <div id="wrapper">
            <div id="header">
                <nav class="top-bar" data-topbar role="navigation" data-options="is_hover: false">
                    <ul class="title-area">
                        <li class="name">
                            <h1><a>MasteringC++</a></h1>
                        </li>
                        <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
                        <li class="toggle-topbar"><a href="#"><span>Menu</span></a></li>
                    </ul>

                    <section class="top-bar-section">
                        <ul class="left">
                            <li class="divider"></li>
                            <li class="name">
                                <h3><a>Teacher</a></h3>
                            </li>
                        </ul>
                        <!-- Right Nav Section -->
                        <ul class="right">
                    		{% if teacher %}
                                <li class="divider"></li>
                                <li>
                                    <a href={{ path("compiler") }}>Problems</a>
                                </li>
                                <li class="divider"></li>
                    		{% endif %}
                            <li class="has-dropdown">
                                <a href="#">Signed in as <strong>{{ email }}</strong> {% if teacher %}&nbsp;<i>Teacher</i>{% endif %}</a>
                                <ul class="dropdown">
                                    <li class="active">
                                        <a href="{{ path("compiler_logout") }}">Logout</a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </section>
                </nav>
            </div>
            <div id="problems">
        		<div class="large-3 columns students">
        			<h4>Current students:</h4>
                    <br>
        			<div class="list">
                        <table id="student_table">
                            <tr>
                                <td>
                                    <strong>Email</strong>
                                </td>
                                <td>
                                    <strong>Username</strong>
                                </td>
                            </tr>
        			    {% for student in students %}
                            <tr>
                                <td>
                                    <a href="#" data-reveal-id="students" title="{{ student.username }}" id="{{ student.id }}" class="student">&nbsp;{{ student.email }}</a>
                                </td>
                                <td>
                                    {{ student.username }}
                                </td>
                            </tr>
        			    {% endfor %}
                        </table>
        			</div>
        			<p>
        				<a href="#" data-reveal-id="add_students" class="button tiny">Add Student</a>
        			</p>
        		</div>
        		<div class=" large-3 columns problems">
        			<h4>My problems:</h4>
                    <br>
        			<div class="list">
                        <table id="problem_table">
                            <tr>
                                <td></td>
                                <td>
                                    <strong>Title</strong>
                                </td>
                                <td>
                                    <strong>Method</strong>
                                </td>
                            </tr>
        			    {% for problem in problems %}
                            <tr>
                                <td>
                                    {{ loop.index }}
                                </td>
                                <td>
                                    <span title="{{ problem.title }}">&nbsp;{{ problem.title }}</span>
                                </td>
                                <td>
                                    {{ problem.method }}
                                </td>
                            </tr>
        			    {% endfor %}
                        </table>
        			</div>
        			<p>
                        <span style="font-size:12px;margin-top:15px">Note: Problems created by teachers are only visible to their students<br> and will be put under a category named "Custom"</span>
        			</p>
                    <a href="#" data-reveal-id="add_problem" class="button tiny">Add Problem</a>
        		</div>
                <div id="footer">
                    <p>&copy; MasteringC++. All rights reserved.</p>
                </div>
            <!-- MODALS -->
        		<div id="add_students" class="reveal-modal tiny" data-reveal>
        			<div id="student_form">
                        <h4>Enter student email</h4>
                        <br>
        				<form id="enroll">
        					<input class="login" id="Email" name="email" type="text" placeholder="Email">
        					<input type="hidden" name="id" value="{{ id }}">
        					<button id="submit" type="submit" name="submit" class="button tiny">Add</button> <!-- Login (submit) button -->
        				</form>
        				{% image '@PersonalBundle/Resources/public/images/257.gif' %}
        				    <img id="loading" src="{{ asset_url }}" alt="Example" style="display: none"/>
        				{% endimage %}
        				<span id="result"></span>
                         <a class="close-reveal-modal" id="close">&#215;</a>
        			</div>
        		</div>
        		<div id="students" class="reveal-modal tiny" data-reveal>
        			<div id="progress_content">
        				<h2>Completed Problems</h2>
                        <hr>
        				<div class="progress_container">
        					<div class="placeholder"></div>
        				</div>
        				<hr class="line">
        				{% image '@PersonalBundle/Resources/public/images/257.gif' %}
        				    <img id="loading2" src="{{ asset_url }}" alt="Example" style="display: none"/>
        				{% endimage %}<br>
        				<span id="result2"></span>
                        <a class="close-reveal-modal" id="close2">&#215;</a>
        			</div>
        		</div>
        		<div id="add_problem" class="reveal-modal tiny" data-reveal>
        			<div id="problem_form">
                        <h4>Enter problem details:</h4>
                        <br>
        				<form id="problem">
        					<input class="login" id="Title" name="title" type="text" placeholder="Title">
        					<input class="login" id="Prompt" name="prompt" type="text" placeholder="Prompt">
        					<input class="login" id="Method" name="method" type="text" placeholder="Method">
        					<input class="login" id="Test" name="test" type="text" placeholder="Test">
        					<input class="login" id="Output" name="output" type="text" placeholder="Output">
        					<button id="submit3" type="submit" name="submit" class="button tiny">Add</button> <!-- Login (submit) button -->
        				</form>
        				{% image '@PersonalBundle/Resources/public/images/257.gif' %}
        				    <img id="loading3" src="{{ asset_url }}" alt="Example" style="display: none"/>
        				{% endimage %}
        				<span id="result3"></span>
                        <a class="close-reveal-modal" id="close2">&#215;</a>
        			</div>
        		</div>
            </div>
        </div>
	</body>
    {% block javascripts %}
        {% javascripts  'bundles/personal/js/vendor/jquery.js'
                        'bundles/personal/js/teacher.js'
                        'bundles/personal/js/vendor/fastclick.js'
                        'bundles/personal/js/foundation.min.js' %}
            <script src="{{ asset_url }}"></script>
        {% endjavascripts %}
    {% endblock %}
    <script>
        $(document).foundation();
    </script>
</html>